<?php
// -----------------------------------------------------------------------------
namespace App\Mail;
// -----------------------------------------------------------------------------

// -----------------------------------------------------------------------------
use Illuminate\Bus\Queueable;
use Illuminate\Contracts\Queue\ShouldQueue;
use Illuminate\Mail\Mailable;
use Illuminate\Queue\SerializesModels;
// -----------------------------------------------------------------------------

// -----------------------------------------------------------------------------
class NewPropertyPublished extends Mailable {
    // -------------------------------------------------------------------------
    use Queueable, SerializesModels;
    // -------------------------------------------------------------------------

    // -------------------------------------------------------------------------
    public $row;
    // -------------------------------------------------------------------------

    // -------------------------------------------------------------------------
    // Create a new message instance.
    // -------------------------------------------------------------------------
    public function __construct($row) {
        $this->row = $row;
    }
    // -------------------------------------------------------------------------

    // -------------------------------------------------------------------------
    // Build the message.
    // -------------------------------------------------------------------------
    public function build() {
        return $this->from(env('NOREPLY_SITE_EMAIL', 'noreply@realestatemedia'))
            ->subject('New properties matching your saved search')
            ->view('mail.new-property-published');
    }
    // -------------------------------------------------------------------------
}
// -----------------------------------------------------------------------------
